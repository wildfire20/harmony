{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HUAWEI\\\\OneDrive\\\\harmony learning institute\\\\client\\\\src\\\\components\\\\announcements\\\\Announcements.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useQuery } from 'react-query';\nimport { MessageSquare, AlertCircle, Clock } from 'lucide-react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { announcementsAPI } from '../../services/api';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Announcements = () => {\n  _s();\n  var _announcementsData$da;\n  const {\n    user\n  } = useAuth();\n  const {\n    data: announcementsData,\n    isLoading\n  } = useQuery(['announcements', user === null || user === void 0 ? void 0 : user.grade_id, user === null || user === void 0 ? void 0 : user.class_id], () => user !== null && user !== void 0 && user.grade_id && user !== null && user !== void 0 && user.class_id ? announcementsAPI.getAnnouncements(user.grade_id, user.class_id) : null, {\n    enabled: !!(user !== null && user !== void 0 && user.grade_id && user !== null && user !== void 0 && user.class_id)\n  });\n  const announcements = (announcementsData === null || announcementsData === void 0 ? void 0 : (_announcementsData$da = announcementsData.data) === null || _announcementsData$da === void 0 ? void 0 : _announcementsData$da.announcements) || [];\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case 'urgent':\n        return 'bg-red-100 text-red-800 border-red-200';\n      case 'high':\n        return 'bg-yellow-100 text-yellow-800 border-yellow-200';\n      case 'normal':\n        return 'bg-blue-100 text-blue-800 border-blue-200';\n      default:\n        return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n  const getPriorityIcon = priority => {\n    switch (priority) {\n      case 'urgent':\n        return AlertCircle;\n      case 'high':\n        return AlertCircle;\n      default:\n        return MessageSquare;\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900\",\n        children: \"Announcements\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: announcements.length > 0 ? announcements.map(announcement => {\n        const IconComponent = getPriorityIcon(announcement.priority);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(IconComponent, {\n                  className: \"h-5 w-5 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-xl font-semibold text-gray-900\",\n                  children: announcement.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getPriorityColor(announcement.priority)}`,\n                  children: announcement.priority\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-4\",\n                children: announcement.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4 text-sm text-gray-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    className: \"h-4 w-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 25\n                  }, this), new Date(announcement.created_at).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"By: \", announcement.author_first_name, \" \", announcement.author_last_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this)\n        }, announcement.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n          className: \"mx-auto h-12 w-12 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: \"No announcements\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"There are no announcements for your class yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(Announcements, \"a9gPGuEY87wx/FlMSBQkkyUbNCU=\", false, function () {\n  return [useAuth, useQuery];\n});\n_c = Announcements;\nexport default Announcements;\nvar _c;\n$RefreshReg$(_c, \"Announcements\");","map":{"version":3,"names":["React","useQuery","MessageSquare","AlertCircle","Clock","useAuth","announcementsAPI","LoadingSpinner","jsxDEV","_jsxDEV","Announcements","_s","_announcementsData$da","user","data","announcementsData","isLoading","grade_id","class_id","getAnnouncements","enabled","announcements","getPriorityColor","priority","getPriorityIcon","fileName","_jsxFileName","lineNumber","columnNumber","className","children","length","map","announcement","IconComponent","title","content","Date","created_at","toLocaleDateString","author_first_name","author_last_name","id","_c","$RefreshReg$"],"sources":["C:/Users/HUAWEI/OneDrive/harmony learning institute/client/src/components/announcements/Announcements.js"],"sourcesContent":["import React from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { MessageSquare, AlertCircle, Clock } from 'lucide-react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { announcementsAPI } from '../../services/api';\r\nimport LoadingSpinner from '../common/LoadingSpinner';\r\n\r\nconst Announcements = () => {\r\n  const { user } = useAuth();\r\n\r\n  const { data: announcementsData, isLoading } = useQuery(\r\n    ['announcements', user?.grade_id, user?.class_id],\r\n    () => user?.grade_id && user?.class_id ? announcementsAPI.getAnnouncements(user.grade_id, user.class_id) : null,\r\n    { enabled: !!(user?.grade_id && user?.class_id) }\r\n  );\r\n\r\n  const announcements = announcementsData?.data?.announcements || [];\r\n\r\n  const getPriorityColor = (priority) => {\r\n    switch (priority) {\r\n      case 'urgent': return 'bg-red-100 text-red-800 border-red-200';\r\n      case 'high': return 'bg-yellow-100 text-yellow-800 border-yellow-200';\r\n      case 'normal': return 'bg-blue-100 text-blue-800 border-blue-200';\r\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\r\n    }\r\n  };\r\n\r\n  const getPriorityIcon = (priority) => {\r\n    switch (priority) {\r\n      case 'urgent': return AlertCircle;\r\n      case 'high': return AlertCircle;\r\n      default: return MessageSquare;\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Announcements</h1>\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        {announcements.length > 0 ? (\r\n          announcements.map((announcement) => {\r\n            const IconComponent = getPriorityIcon(announcement.priority);\r\n            return (\r\n              <div key={announcement.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center space-x-3 mb-2\">\r\n                      <IconComponent className=\"h-5 w-5 text-blue-600\" />\r\n                      <h2 className=\"text-xl font-semibold text-gray-900\">{announcement.title}</h2>\r\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getPriorityColor(announcement.priority)}`}>\r\n                        {announcement.priority}\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"text-gray-600 mb-4\">{announcement.content}</p>\r\n                    <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\r\n                      <div className=\"flex items-center\">\r\n                        <Clock className=\"h-4 w-4 mr-1\" />\r\n                        {new Date(announcement.created_at).toLocaleDateString()}\r\n                      </div>\r\n                      <div>\r\n                        By: {announcement.author_first_name} {announcement.author_last_name}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <div className=\"text-center py-12\">\r\n            <MessageSquare className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No announcements</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500\">\r\n              There are no announcements for your class yet.\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Announcements;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}